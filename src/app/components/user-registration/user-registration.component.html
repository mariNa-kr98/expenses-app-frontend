<h4>User Registration</h4>
@if (registrationStatus.message==="Not attempted yet"){
  <div class="d-flex flex-column mt-2 w-50">
    <form [formGroup]="form" class="d-flex flex-column gap-3">
      <mat-form-field>
        <mat-label>Username</mat-label>
        <input matInput type="text" formControlName="username">
        <mat-error>Username is required</mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Password</mat-label>
        <input type="password" matInput formControlName="password">
        @if (form.get('password')?.invalid && form.get('password')?.touched){
          <mat-error>Password is missing or invalid</mat-error>
        }      
      </mat-form-field>

      <mat-form-field>
        <mat-label>Confirm Password</mat-label>
        <input type="password" matInput formControlName="confirmPassword"/>
        @if(form.get("confirmPassword")?.hasError("passwordMismatch")){
        <mat-error>Password do not match</mat-error>
        } @else if (form.get("confirmPassword")?.invalid && form.get("confirmPassword")?.touched){
        <mat-error>Confirm Password is missing or invalid</mat-error>
        }      
      </mat-form-field>

    <button
      class="btn btn-success mt-2"
      [disabled]="form.invalid"
      (click)="onSubmit()"
      >Save
    </button>
     <!-- <button
      mat-flat-button
      class="btn btn-success mt-2"
      [disabled]="form.invalid"
      (click)="onSubmit()"
      >Save
    </button> -->
  </form>
</div>
} @else {

    @if(registrationStatus.success){
        <div class="alert alert-success mt-2 w-50">
          <strong>Success:</strong> {{registrationStatus.message}}
        </div>
      } @else {
        <div class="alert alert-danger mt-2 w-50">
          <strong>Error:</strong> {{registrationStatus.message}}
        </div>
      }
    }
    <button 
  class="btn btn-success mt-2" 
  (click)="registerAnother()">
  Register Another User
    </button>

    <!-- <button 
      mat-flat-button
      class="btn btn-success mt-2"
      (click) = "registerAnother()"
    >
      Register Another User
    </button> -->
